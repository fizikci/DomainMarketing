ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(n,t){var r=n("../lib/dom"),o=n("../lib/lang"),i=n("../lib/event"),f=n("../keyboard/hash_handler").HashHandler,s=n("../lib/keys"),e,u;r.importCssString("/* ------------------------------------------------------------------------------------------* Editor Search Form* --------------------------------------------------------------------------------------- */.ace_search {background-color: #ddd;border: 1px solid #cbcbcb;border-top: 0 none;max-width: 297px;overflow: hidden;margin: 0;padding: 4px;padding-right: 6px;padding-bottom: 0;position: absolute;top: 0px;z-index: 99;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {border-radius: 3px;border: 1px solid #cbcbcb;float: left;margin-bottom: 4px;overflow: hidden;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {background-color: white;border-right: 1px solid #cbcbcb;border: 0 none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;display: block;float: left;height: 22px;outline: 0;padding: 0 7px;width: 214px;margin: 0;}.ace_searchbtn,.ace_replacebtn {background: #fff;border: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;display: block;float: left;height: 22px;margin: 0;padding: 0;position: relative;}.ace_searchbtn:last-child,.ace_replacebtn:last-child {border-top-right-radius: 3px;border-bottom-right-radius: 3px;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn {background-position: 50% 50%;background-repeat: no-repeat;width: 27px;}.ace_searchbtn.prev {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADFJREFUeNpiSU1NZUAC/6E0I0yACYskCpsJiySKIiY0SUZk40FyTEgCjGgKwTRAgAEAQJUIPCE+qfkAAAAASUVORK5CYII=);    }.ace_searchbtn.next {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUeNpiTE1NZQCC/0DMyIAKwGJMUAYDEo3M/s+EpvM/mkKwCQxYjIeLMaELoLMBAgwAU7UJObTKsvAAAAAASUVORK5CYII=);    }.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;display: block;float: right;font-family: Arial;font-size: 16px;height: 14px;line-height: 16px;margin: 5px 1px 9px 5px;padding: 0;text-align: center;width: 14px;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_replacebtn.prev {width: 54px}.ace_replacebtn.next {width: 27px}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;-moz-box-sizing: border-box;box-sizing:    border-box;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;}","ace_searchbox");e='<div class="ace_search right">    <button type="button" action="hide" class="ace_searchbtn_close"><\/button>    <div class="ace_search_form">        <input class="ace_search_field" placeholder="Search for" spellcheck="false"><\/input>        <button type="button" action="findNext" class="ace_searchbtn next"><\/button>        <button type="button" action="findPrev" class="ace_searchbtn prev"><\/button>    <\/div>    <div class="ace_replace_form">        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"><\/input>        <button type="button" action="replace" class="ace_replacebtn">Replace<\/button>        <button type="button" action="replaceAll" class="ace_replacebtn">All<\/button>    <\/div>    <div class="ace_search_options">        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*<\/span>        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa<\/span>        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b<\/span>    <\/div><\/div>'.replace(/>\s+/g,">");u=function(n){var t=r.createElement("div");t.innerHTML=e;this.element=t.firstChild;this.$init();this.setEditor(n)},function(){this.setEditor=function(n){n.searchBox=this;n.container.appendChild(this.element);this.editor=n};this.$init=function(){var t=this.element,n;this.searchBox=t.querySelector(".ace_search_form");this.replaceBox=t.querySelector(".ace_replace_form");this.searchOptions=t.querySelector(".ace_search_options");this.regExpOption=t.querySelector("[action=toggleRegexpMode]");this.caseSensitiveOption=t.querySelector("[action=toggleCaseSensitive]");this.wholeWordOption=t.querySelector("[action=toggleWholeWords]");this.searchInput=this.searchBox.querySelector(".ace_search_field");this.replaceInput=this.replaceBox.querySelector(".ace_search_field");n=this;i.addListener(t,"mousedown",function(t){setTimeout(function(){n.activeInput.focus()},0);i.stopPropagation(t)});i.addListener(t,"click",function(t){var u=t.target,r=u.getAttribute("action");r&&n[r]?n[r]():n.$searchBarKb.commands[r]&&n.$searchBarKb.commands[r].exec(n);i.stopPropagation(t)});i.addCommandKeyListener(t,function(t,r,u){var e=s.keyCodeToString(u),f=n.$searchBarKb.findKeyCommand(r,e);f&&f.exec&&(f.exec(n),i.stopEvent(t))});this.$onChange=o.delayedCall(function(){n.find(!1,!1)});i.addListener(this.searchInput,"input",function(){n.$onChange.schedule(20)});i.addListener(this.searchInput,"focus",function(){n.activeInput=n.searchInput;n.searchInput.value&&n.highlight()});i.addListener(this.replaceInput,"focus",function(){n.activeInput=n.replaceInput;n.searchInput.value&&n.highlight()})};this.$closeSearchBarKb=new f([{bindKey:"Esc",name:"closeSearchBar",exec:function(n){n.searchBox.hide()}}]);this.$searchBarKb=new f;this.$searchBarKb.bindKeys({"Ctrl-f|Command-f|Ctrl-H|Command-Option-F":function(n){var t=n.isReplace=!n.isReplace;n.replaceBox.style.display=t?"":"none";n[t?"replaceInput":"searchInput"].focus()},"Ctrl-G|Command-G":function(n){n.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(n){n.findPrev()},esc:function(n){setTimeout(function(){n.hide()})},Return:function(n){n.activeInput==n.replaceInput&&n.replace();n.findNext()},"Shift-Return":function(n){n.activeInput==n.replaceInput&&n.replace();n.findPrev()},Tab:function(n){(n.activeInput==n.replaceInput?n.searchInput:n.replaceInput).focus()}});this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(n){n.regExpOption.checked=!n.regExpOption.checked;n.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(n){n.caseSensitiveOption.checked=!n.caseSensitiveOption.checked;n.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(n){n.wholeWordOption.checked=!n.wholeWordOption.checked;n.$syncOptions()}}]);this.$syncOptions=function(){r.setCssClass(this.regExpOption,"checked",this.regExpOption.checked);r.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked);r.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);this.find(!1,!1)};this.highlight=function(n){this.editor.session.highlight(n||this.editor.$search.$options.re);this.editor.renderer.updateBackMarkers()};this.find=function(n,t){var i=this.editor.find(this.searchInput.value,{skipCurrent:n,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked});r.setCssClass(this.searchBox,"ace_nomatch",!i&&this.searchInput.value);this.highlight()};this.findNext=function(){this.find(!0,!1)};this.findPrev=function(){this.find(!0,!0)};this.replace=function(){this.editor.replace(this.replaceInput.value)};this.replaceAll=function(){this.editor.replaceAll(this.replaceInput.value)};this.hide=function(){this.element.style.display="none";this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb);this.editor.focus()};this.show=function(n,t){this.element.style.display="";this.replaceBox.style.display=t?"":"none";this.isReplace=t;n&&(this.searchInput.value=n);this.searchInput.focus();this.searchInput.select();this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb)}}.call(u.prototype);t.SearchBox=u;t.Search=function(n,t){var i=n.searchBox||new u(n);i.show(n.session.getTextRange(),t)};t.ISearch=function(n,t){this.$changeListener=this.$changeListener.bind(this);this.startRange=n.selection.toOrientedRange();this.options=t||{}},function(){this.setSession=function(n){this.session&&this.session.removeListener(this.$changeListener);this.session=n;this.session.addListener(this.$changeListener)};this.setSearchString=function(){};this.getValue=function(){return this.value==null&&(this.value=this.session.getValue()),this.value};this.$changeListener=function(){this.value=null};this.find=function(){};this.$edgeBefore=function(){this.cursor=this.startRange[this.options.backwards?"start":"end"]};this.$edgeAfter=function(){};this.next=function(){}}.call(t.ISearch.prototype)});