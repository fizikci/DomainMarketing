ace.define("ace/ext/spellcheck",["require","exports","module","ace/lib/event","ace/editor","ace/config"],function(n,t){var i=n("../lib/event"),r;t.contextMenuHandler=function(n){var t=n.target,r=t.textInput.getElement(),e,u,o;if(t.selection.isEmpty()){var s=t.getCursorPosition(),h=t.session.getWordRange(s.row,s.column),f=t.session.getTextRange(h);(t.session.tokenRe.lastIndex=0,t.session.tokenRe.test(f))&&(e="\x01\x01",u=f+" "+e,r.value=u,r.setSelectionRange(f.length+1,f.length+1),r.setSelectionRange(0,0),o=!1,i.addListener(r,"keydown",function c(){i.removeListener(r,"keydown",c);o=!0}),t.textInput.setInputHandler(function(n){if(console.log(n,u,r.selectionStart,r.selectionEnd),n==u)return"";if(n.lastIndexOf(u,0)===0)return n.slice(u.length);if(n.substr(r.selectionEnd)==u)return n.slice(0,-u.length);if(n.slice(-2)==e){var i=n.slice(0,-2);if(i.slice(-1)==" ")return o?i.substring(0,r.selectionEnd):(i=i.slice(0,-1),t.session.replace(h,i),"")}return n}))}};r=n("../editor").Editor;n("../config").defineOptions(r.prototype,"editor",{spellcheck:{set:function(n){var i=this.textInput.getElement();i.spellcheck=!!n;n?this.on("nativecontextmenu",t.contextMenuHandler):this.removeListener("nativecontextmenu",t.contextMenuHandler)},value:!0}})});